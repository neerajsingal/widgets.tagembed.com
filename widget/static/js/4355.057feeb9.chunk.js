"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4355],{44355:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(47313),s=n(43635),i=n(43411),r=n(17739),l=n(98501),o=n(35179),c=n(46417);const g=a.lazy((()=>n.e(7535).then(n.bind(n,37535)))),d=a.lazy((()=>n.e(6429).then(n.bind(n,16429)))),h=a.lazy((()=>n.e(1819).then(n.bind(n,61819)))),p=a.lazy((()=>n.e(8534).then(n.bind(n,18534)))),u=a.lazy((()=>Promise.all([n.e(7914),n.e(6538)]).then(n.bind(n,66538)))),m=a.lazy((()=>n.e(7209).then(n.bind(n,67209))));class b extends a.PureComponent{constructor(){super(),this.handleResize=()=>{this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})},this.state={containerSize:{width:null,height:null},parentID:""},this.containerRef=a.createRef()}componentDidMount(){(0,r.gz)(this.props.wall.Personalization.widgetTheme),window.addEventListener("resize",this.handleResize),this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(){let e=document.querySelector(".tb_app_container"),t=r.b8?r.b8:e.parentNode.id;this.setState({parentID:t})}render(){const{wall:e,reviewFilters:t,webFilters:n,postData:s,languageSetting:i,filter_tags:b}=this.props,f=!!(e.Banner&&Object.keys(e.Banner).length>0&&(1===e.Banner.status&&1===e.Banner.banner_position||1===e.BannerImage.status)),j=!!(e.Banner&&Object.keys(e.Banner).length>0&&1===e.Banner.status&&2===e.Banner.banner_position),B=o.ZQ?![55,60,16,47,57].includes(e.Personalization.widgetTheme):![55,52,60,16,47,57].includes(e.Personalization.widgetTheme),w=!!(e.Banner&&Object.keys(e.Banner).length>0&&1===e.Banner.status&&6==e.Banner.bannerType&&0===e.Personalization.filterStatus&&57!=e.Personalization.widgetTheme),x=o.ZQ?1===e.Personalization.filterStatus:!!(n&&n.length>1),S=!!(b&&b.length>0);let k=""!=n&&n&&n.length>0?n.map((e=>{let{Network:t}=e;return t.id})):null;!o.ig&&e.Background.image&&e.Background.image.includes(l.ho)&&(e.Background.image=String(e.Background.image).replace(l.lO,""));const z=0===e.Background.transparent||e.Background.image&&o.ZQ?{backgroundImage:e.Background.image?"url(".concat(e.Background.image,")"):"",backgroundColor:e.Background.color}:null;return(0,c.jsxs)("div",{className:"tb_app_container",style:{minHeight:[47,16,49,55,60,52].includes(e.Personalization.widgetTheme)?"100%":"".concat(this.props.postHeight,"px")},ref:this.containerRef,children:[f?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(g,{Banner:e.Banner,BannerImage:e.BannerImage})]}):"",(0,c.jsxs)("div",{className:"tb_app_wrapper",style:z,children:[w&&f?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(d,{reviewFilters:t,appendData:s.appendData,wall:e,languageSetting:i,postData:s})}):null,(e.UserRule.on_site_upload&&e.UgcSettings.onsite_status||o.nX&&e.UgcSettings.onsite_status)&&(o.Jx||o.ig&&!(0,r.mD)(50))?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(u,{UgcSettings:e.UgcSettings,id:e.Wall.id,tagShopWallId:e.Wall.wallId})," "]}):null,B&&(x||S)?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(h,{type:e.Personalization.filter_type,webFilters:n,filter_tags:b,appendData:s.appendData,wall:e,languageSetting:i,postData:s})]}):"",(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(p,{...this.props,brandingNetworks:k,containerSize:this.state.containerSize,parentID:this.state.parentID})]}),s&&s.completeDataObject?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(m,{completeDataObject:s.completeDataObject,postData:s.postData})]}):"",w&&j?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(d,{reviewFilters:t,appendData:s.appendData,wall:e,languageSetting:i,postData:s})}):null]}),j?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(g,{Banner:e.Banner,BannerImage:e.BannerImage})]}):""]})}}const f=(0,i.$j)((e=>{if(!0===e.postHeight.manage_height){return{postHeight:e.postHeight.data.replace("px",""),renderId:e.renderId}}return{renderId:e.renderId}}),(e=>({managePostHeight:t=>e((0,s.B0)(t))})))(b)}}]);